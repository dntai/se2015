<div class="profile" ng-show="vm.profile">
  <div class="panel panel-default">
    <div class="panel-heading">
      {{ vm.profile.user.username }}
    </div>
    <div class="row">
      <div class="col-md-3" id="avatar">
        <h4 style="margin-top: 0.5em">Ảnh đại diện của bạn</h4>
        <div ng-if='vm.avatar.avatar != null && vm.avatar.avatar != ""'>
          <img src="{{vm.avatar.avatar}}"/>
        </div>
        <button class="btn btn-default" id="change-avatar-button" ng-click="vm.changeAvatar = true">Đổi ảnh đại diện</button>
        <div ng-if="vm.changeAvatar">
          <input type="file" file-model="vm.newAvatar"/>
          <button class="btn btn-default" id="upload-button" ng-click="vm.changeAvatar = !vm.changeAvatar; vm.uploadAvatar()">Upload</button>
        </div>
      </div>
      <div class="col-md-5 panel-body">
        <h3 class="user-profile-name">{{ vm.profile.user.last_name }} {{ vm.profile.user.first_name }} </h3>
        <p>Trường: {{ vm.profile.school }} </p>
        <p>Lớp: {{ vm.profile.class_in_school }} </p>
        <p>Ngày lập tài khoản: {{ vm.profile.created_at | date }}
        <p>Email: {{ vm.profile.user.email }}
      </div>
      <div class="col-md-4">
        <h3 class="user-statistic">Thông số</h3>
        <p>Tổng điểm: {{ vm.total_score }}</p>
        <!--<p>Số lần trả lời đúng: {{ vm.count_correct_answer }}</p>
        <p>Số lần trả lời sai: {{ vm.count_wrong_answer }}</p>
        <p>Phần trăm làm đúng: {{ (vm.count_correct_answer/(vm.total_record))*100 }} %</p>-->
        <canvas id="pie" class="chart chart-pie"
          chart-data="vm.dataChart" chart-labels="vm.labels">
        </canvas> 
        <p style="text-align: center">Biểu đồ phần trăm câu làm đúng</p>
      </div>
    
  </div>
</div>